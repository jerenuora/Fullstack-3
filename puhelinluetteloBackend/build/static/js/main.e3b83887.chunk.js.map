{"version":3,"sources":["services/persons.js","components/Notification.js","components/DeleteButton.js","components/Oneperson.js","components/AllPersons.js","components/Filter.js","components/PersonAdder.js","App.js","index.js"],"names":["baseUrl","exports","getPersons","axios","get","then","response","data","addPerson","newPerson","post","updateNumber","props","put","deleteNumber","id","delete","Notification","msg","style","color","backround","fontSize","borderStyle","borderRadius","padding","marginBottom","backroundColor","DeleteButton","name","persons","setPersons","setSuccessMessage","activeTimeout","setActiveTimeout","onClick","window","confirm","personService","filter","person","clearTimeout","setTimeout","catch","OnePerson","number","AllPersons","filterText","textToTest","RegExp","toUpperCase","personsToShow","test","map","names","Filter","handler","value","onChange","PersonAdder","addName","newName","handleNameChange","newNumber","handleNumberChance","onSubmit","type","App","useState","setNewName","setNewNumber","setFiltertext","successMessage","useEffect","receivedPersons","event","target","preventDefault","isPresent","indexOf","nameObj","console","log","addedPerson","concat","error","personServiceProps","updatedPerson","ReactDOM","render","document","getElementById"],"mappings":"6KACMA,EAAU,eAsBDC,EADC,CAAEC,WAnBC,WAEf,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiBfC,UAdZ,SAAAC,GAEd,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAYJI,aATpB,SAAAC,GAEjB,OADgBT,IAAMU,IAAN,UAAab,EAAb,YAAwBY,EAAM,IAAMA,EAAM,IAC3CP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAOUO,aAJlC,SAAAC,GAEjB,OADgBZ,IAAMa,OAAN,UAAgBhB,EAAhB,YAA2Be,IAC5BV,MAAK,SAAAC,GAAQ,OAAIA,EAASC,U,OCqB9BU,EAvCM,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAoBpB,OAAY,OAARA,EACK,MAEM,IAAXA,EAAI,GAEJ,qBAAKC,MAxBoB,CACzBC,MAAO,QACPC,UAAW,aACXC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAiBd,SACKR,EAAI,KAML,qBAAKC,MAtBgB,CACzBC,MAAO,MACPO,eAAgB,OAChBL,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAeV,SACKR,EAAI,MCFNU,EA7BM,SAAC,GAA4F,IAA1Fb,EAAyF,EAAzFA,GAAIc,EAAqF,EAArFA,KAAMC,EAA+E,EAA/EA,QAASC,EAAsE,EAAtEA,WAAYC,EAA0D,EAA1DA,kBAAmBC,EAAuC,EAAvCA,cAAeC,EAAwB,EAAxBA,iBAsBrF,OACA,8BACI,wBAAQC,QAvBU,WACdC,OAAOC,QAAP,iBAAyBR,EAAzB,QACJS,EACKxB,aAAaC,GACbV,MAAK,WACN0B,EAAWD,EAAQS,QAAO,SAAAC,GAAM,OAAIA,EAAOzB,KAAOA,MAClDiB,EAAkB,EAAC,EAAD,UAAUF,EAAQS,QAAO,SAAAC,GAAM,OAAIA,EAAOzB,KAAOA,KAAI,GAAGc,KAAxD,cAClBY,aAAaR,GACbC,EAAiBQ,YAAW,WAC1BV,EAAkB,QAChB,SAEHW,OAAM,WACLX,EAAkB,EAAC,EAAD,UAAUH,EAAV,+BAClBY,aAAaR,GACbC,EAAiBQ,YAAW,WAC1BV,EAAkB,QAChB,UAMV,uBCXOY,EAdG,SAAC,GAAD,IAAG7B,EAAH,EAAGA,GAAGc,EAAN,EAAMA,KAAKgB,EAAX,EAAWA,OAAQf,EAAnB,EAAmBA,QAASC,EAA5B,EAA4BA,WAAYC,EAAxC,EAAwCA,kBAAmBC,EAA3D,EAA2DA,cAAeC,EAA1E,EAA0EA,iBAA1E,OACd,8BACC,8BAAIL,EAAJ,KAAYgB,EACZ,cAAC,EAAD,CACAhB,KAAMA,EACNd,GAAIA,EACJe,QAASA,EACTC,WAAYA,EACZC,kBAAmBA,EACnBC,cAAeA,EACfC,iBAAkBA,UCURY,EApBI,SAAC,GAA4F,IAA1FhB,EAAyF,EAAzFA,QAAQiB,EAAiF,EAAjFA,WAAYhB,EAAqE,EAArEA,WAAYC,EAAyD,EAAzDA,kBAAmBC,EAAsC,EAAtCA,cAAeC,EAAuB,EAAvBA,iBAChFc,EAAa,IAAIC,OAAOF,EAAWG,eACnCC,EAAgBrB,EAAQS,QAAO,SAAAV,GAAI,OAAiD,IAA7CmB,EAAWI,KAAKvB,EAAKA,KAAKqB,kBACvE,OACE,8BACGC,EAAcE,KAAI,SAAAC,GAAK,OAAI,cAAC,EAAD,CAE1BvC,GAAIuC,EAAMvC,GACVc,KAAMyB,EAAMzB,KACZgB,OAAQS,EAAMT,OACdf,QAASA,EACTC,WAAYA,EACZC,kBAAmBA,EACnBC,cAAeA,EACfC,iBAAkBA,GARboB,EAAMvC,UCCFwC,EARF,SAAC,GAAD,IAAGR,EAAH,EAAGA,WAAYS,EAAf,EAAeA,QAAf,OACX,sDACI,uBACAC,MAAOV,EACPW,SAAUF,QCcHG,EAlBK,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,QAASC,EAArB,EAAqBA,iBAAkBC,EAAvC,EAAuCA,UAAWC,EAAlD,EAAkDA,mBAAlD,OAChB,uBAAMC,SAAUL,EAAhB,UACI,yCACU,uBACNH,MAAOI,EACPH,SAAUI,OAEd,2CACY,uBACRL,MAAOM,EACPL,SAAUM,OAEd,8BACI,wBAAQE,KAAK,SAAb,uBCyGGC,EAjHH,WACV,MAA+BC,mBAAS,IAAxC,mBAAQtC,EAAR,KAAiBC,EAAjB,KACA,EAAgCqC,mBAAS,IAAzC,mBAAQP,EAAR,KAAiBQ,EAAjB,KACA,EAAoCD,mBAAS,IAA7C,mBAAQL,EAAR,KAAmBO,EAAnB,KACA,EAAsCF,mBAAS,IAA/C,mBAAQrB,EAAR,KAAoBwB,EAApB,KACA,EAA8CH,mBAAS,MAAvD,mBAAQI,EAAR,KAAwBxC,EAAxB,KACA,EAA4CoC,mBAAS,MAArD,mBAAQnC,EAAR,KAAuBC,EAAvB,KAEAuC,qBAAU,WACRnC,EACCpC,aACAG,MAAK,SAAAqE,GACJ3C,EAAW2C,QAEZ,IA4EH,OACE,gCACE,2CACA,cAAC,EAAD,CAAQ3B,WAAYA,EAAYS,QAPT,SAACmB,GAC1BJ,EAAcI,EAAMC,OAAOnB,UAOzB,4CACA,cAAC,EAAD,CAAcvC,IAAKsD,IACnB,cAAC,EAAD,CAAaZ,QAhFD,SAACe,GACfA,EAAME,iBACN,IAAMC,EAAYhD,EAAQuB,KAAI,SAAAC,GAAK,OAAIA,EAAMzB,KAAKqB,iBAAe6B,QAAQlB,EAAQX,eAC3E8B,EAAU,CACdnD,KAAMgC,EACNhB,OAAOkB,GAGT,GADAkB,QAAQC,OACW,IAAfJ,EACFxC,EACG9B,UAAUwE,GACV3E,MAAK,SAAA8E,GACJpD,EAAWD,EAAQsD,OAAOD,IAC1BnD,EAAkB,EAAC,EAAD,UAASgD,EAAQnD,KAAjB,wBAClBY,aAAaR,GACbC,EAAiBQ,YAAW,WAC1BV,EAAkB,QAChB,SAELW,OAAM,SAAA0C,GACLJ,QAAQC,IAAIG,EAAM/E,SAASC,KAAK8E,OACE,mBAA9BA,EAAM/E,SAASC,KAAK8E,OACtB5C,aAAaR,GACbD,EAAkB,EAAC,EAAD,oBACqB,iBAA9BqD,EAAM/E,SAASC,KAAK8E,OAC7B5C,aAAaR,GACbD,EAAkB,EAAC,EAAD,kBACqB,cAA9BqD,EAAM/E,SAASC,KAAK8E,QAC7B5C,aAAaR,GACbD,EAAkB,EAAC,EAAD,wEAEpBE,EAAiBQ,YAAW,WAC1BV,EAAkB,QAChB,cAMR,GAAII,OAAOC,QAAP,UAAkBwB,EAAlB,4DAAqF,CACvF,IAAMyB,EAAqB,CAACxD,EAAQgD,GAAW/D,GAAIiE,GACnD1C,EACG3B,aAAa2E,GACbjF,MAAK,SAAAkF,GACJxD,EAAWD,EAAQuB,KAAI,SAAAb,GAAM,OAAIA,EAAOzB,KAAOwE,EAAcxE,GAAKyB,EAAS+C,MAC3EvD,EAAkB,EAAC,EAAD,UAASuD,EAAc1D,KAAvB,gCAAmD0D,EAAc1C,UACnFJ,aAAaR,GACbC,EAAiBQ,YAAW,WAC1BV,EAAkB,QAChB,SAELW,OAAM,WACLX,EAAkB,EAAC,EAAD,UAAUgD,EAAQnD,KAAlB,+BAClBY,aAAaR,GACbC,EAAiBQ,YAAW,WAC1BV,EAAkB,QAChB,SAIVqC,EAAW,IACXC,EAAa,KAmBkBT,QAASA,EACxCC,iBAjBqB,SAACa,GACxBN,EAAWM,EAAMC,OAAOnB,QAgBcM,UAAWA,EAC/CC,mBAfuB,SAACW,GAC1BL,EAAaK,EAAMC,OAAOnB,UAexB,yCACA,8BACE,cAAC,EAAD,CACA3B,QAASA,EACTiB,WAAYA,EACZhB,WAAYA,EACZC,kBAAmBA,EACnBC,cAAeA,EACfC,iBAAkBA,UC/G1BsD,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.e3b83887.chunk.js","sourcesContent":["import axios from 'axios'  \nconst baseUrl = '/api/persons'\n\nconst getPersons = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst addPerson = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst updateNumber = props => {\n    const request = axios.put(`${baseUrl}/${props[0]}`, props[1])\n    return request.then(response => response.data)\n}\n\nconst deleteNumber = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\nconst exports = { getPersons, addPerson, updateNumber, deleteNumber }\nexport default exports\n\n\n\n\n","import React from 'react'\n\nconst Notification = ({ msg }) => {\n    const notificationStylePos = {\n        color: 'green',\n        backround: 'lightgreen',\n        fontSize: 18,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10   \n      }\n    const notificationStyleNeg = {\n        color: 'red',\n        backroundColor: 'pink',\n        fontSize: 18,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10   \n    }\n        \n    if (msg === null) {\n      return null\n    }\n    if (msg[0] === true) {\n        return ( \n        <div style={notificationStylePos}>\n            {msg[1]}\n        </div>\n        )\n    }\n    else {\n        return ( \n            <div style={notificationStyleNeg}>\n                {msg[1]}\n            </div>\n            )\n    }\n}\n\nexport default Notification","import React from 'react'\nimport personService from '../services/persons'\n\n\nconst DeleteButton = ({ id, name, persons, setPersons, setSuccessMessage, activeTimeout, setActiveTimeout })  => {\n    const deleteHandler = () => {\n        if (window.confirm(`Remove ${name}? `)) {\n        personService\n            .deleteNumber(id)\n            .then(() =>{\n            setPersons(persons.filter(person => person.id !== id))\n            setSuccessMessage([true, `${persons.filter(person => person.id === id)[0].name} removed`])\n            clearTimeout(activeTimeout)\n            setActiveTimeout(setTimeout(() => { \n              setSuccessMessage(null)\n              },4000))\n          })\n            .catch(() => {                                                      \n              setSuccessMessage([false,`${name} has been already deleted`])  \n              clearTimeout(activeTimeout)\n              setActiveTimeout(setTimeout(() => { \n                setSuccessMessage(null)\n                },4000))\n              })\n            }  \n    }\n    return(\n    <div>\n        <button onClick={deleteHandler}>delete</button>\n    </div>\n    )\n}\n  \nexport default DeleteButton","import React from \"react\"\nimport DeleteButton from '../components/DeleteButton'\n\nconst OnePerson = ({ id,name,number, persons, setPersons, setSuccessMessage, activeTimeout, setActiveTimeout }) => (\n    <div>\n     <b>{name}: {number} \n     <DeleteButton\n     name={name} \n     id={id} \n     persons={persons} \n     setPersons={setPersons} \n     setSuccessMessage={setSuccessMessage}\n     activeTimeout={activeTimeout}\n     setActiveTimeout={setActiveTimeout} /></b>\n    </div>\n  )\n\nexport default OnePerson","import React from 'react'\nimport OnePerson from '../components/Oneperson'\n\nconst AllPersons = ({ persons,filterText, setPersons, setSuccessMessage, activeTimeout, setActiveTimeout }) => {\n  const textToTest = new RegExp(filterText.toUpperCase())\n  const personsToShow = persons.filter(name => textToTest.test(name.name.toUpperCase()) === true)\n  return(\n    <div>\n      {personsToShow.map(names => <OnePerson \n        key={names.id} \n        id={names.id} \n        name={names.name} \n        number={names.number} \n        persons={persons} \n        setPersons={setPersons}\n        setSuccessMessage={setSuccessMessage}\n        activeTimeout={activeTimeout}\n        setActiveTimeout={setActiveTimeout} /> \n      )}\n    </div>\n  )\n}\n\nexport default AllPersons","import React from \"react\"\n\nconst Filter = ({ filterText, handler }) => (\n    <div>Filter names shown:\n        <input\n        value={filterText}\n        onChange={handler}/>\n    </div>\n)\n\n  export default Filter  ","import React from \"react\"\n\nconst PersonAdder = ({ addName, newName, handleNameChange, newNumber, handleNumberChance }) => (\n    <form onSubmit={addName}>  \n        <div>    \n            Name: <input\n            value={newName}\n            onChange={handleNameChange}/>\n        </div>\n        <div>\n            Number: <input \n            value={newNumber}\n            onChange={handleNumberChance}/>\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n)\n\nexport default PersonAdder  ","import React, { useEffect, useState } from 'react'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport AllPersons from './components/AllPersons'\nimport Filter from './components/Filter'\nimport PersonAdder from './components/PersonAdder'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterText, setFiltertext ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ activeTimeout, setActiveTimeout ] = useState(null)\n\n  useEffect(() => {\n    personService\n    .getPersons()\n    .then(receivedPersons =>{\n      setPersons(receivedPersons)\n    })\n  }, [])\n\n  const addName = (event) =>{\n    event.preventDefault()\n    const isPresent = persons.map(names => names.name.toUpperCase()).indexOf(newName.toUpperCase())\n    const nameObj = {\n      name: newName,\n      number:newNumber,\n    } \n    console.log()\n    if (isPresent === -1) {\n      personService\n        .addPerson(nameObj)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson))\n          setSuccessMessage([true,`${nameObj.name} added succesfully`])\n          clearTimeout(activeTimeout)\n          setActiveTimeout(setTimeout(() => {\n            setSuccessMessage(null)\n            },4000))\n        })\n        .catch(error => {\n          console.log(error.response.data.error)\n          if (error.response.data.error === 'number missing') {\n            clearTimeout(activeTimeout)\n            setSuccessMessage([false,`number missing`])\n          } else if (error.response.data.error === 'name missing'){\n            clearTimeout(activeTimeout)\n            setSuccessMessage([false,`name missing`])\n          } else if (error.response.data.error === 'too short'){\n            clearTimeout(activeTimeout)\n            setSuccessMessage([false,`Name has to be atleast 3 characters long, and number 8 characters.`])\n          } \n          setActiveTimeout(setTimeout(() => {\n            setSuccessMessage(null)\n            },4000))\n                  \n          })\n\n    }\n    else {\n      if (window.confirm(`${newName} is already in the phonebook, replace number with new? `)) {\n        const personServiceProps = [persons[isPresent].id, nameObj]\n        personService\n          .updateNumber(personServiceProps) \n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n            setSuccessMessage([true,`${updatedPerson.name}'s number changed to ${updatedPerson.number}`])\n            clearTimeout(activeTimeout)\n            setActiveTimeout(setTimeout(() => {\n              setSuccessMessage(null)\n              },4000))\n          })\n          .catch(() => {\n            setSuccessMessage([false,`${nameObj.name} has been already deleted`])\n            clearTimeout(activeTimeout)\n            setActiveTimeout(setTimeout(() => {\n              setSuccessMessage(null)\n              },4000))\n            })\n        }\n      }\n      setNewName('')\n      setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChance = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setFiltertext(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter filterText={filterText} handler={handleFilterChange}/>\n      <h2>Add number</h2>\n      <Notification msg={successMessage} /> \n      <PersonAdder addName={addName} newName={newName} \n      handleNameChange={handleNameChange} newNumber={newNumber} \n      handleNumberChance={handleNumberChance} />\n      <h2>Numbers</h2>\n      <div>\n        <AllPersons \n        persons={persons} \n        filterText={filterText} \n        setPersons={setPersons} \n        setSuccessMessage={setSuccessMessage}\n        activeTimeout={activeTimeout}\n        setActiveTimeout={setActiveTimeout} />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}